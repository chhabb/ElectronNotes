---
title: Electron 快速上手：使用HTML、CSS、JavaScript来构建跨平台的桌面应用程序
---

目标是理解 Electron 整个工作流程及三种核心的进程通信方式。

Electron 的核心就是进程通信

## 使用HTML、CSS、JavaScript来构建跨平台的桌面应用程序

HTML、CSS、JavaScript 即通用的 Web 技术。

跨平台指一套代码可以生成windows、linux、macOS三个平台的安装包。

桌面应用程序就是安装在电脑上的那一种应用程序。

## 什么是 Electron

1. 一款应用广泛的跨平台桌面应用开发框架

   应用广泛。指很多软件都有 Electron技术的参与，比如说 VS code、最新版的腾讯QQ等

2. Electron 的本质是结合了 chromium 和 node js

   electron = chromium + node js + 原生API。

   也就是说，首先，我们可以将 HTML、CSS、JavaScript 这些代码交给 chromium 运行，得到一个页面。

   然后，当需要调一些底层的API，比如说在D盘创建一个文件，则需要借助node js。

   native API，叫原生API，比如要修改 windows 操作系统里边某一个注册表里的项，则需要借助 native API。

   学习 Electron 就是学习它提供给我们的这些原生的API。

3. 使用 HTML、CSS、JavaScript 等 Web 技术构建桌面应用程序。

   注意，不一定非得写最为纯粹的 HTML、CSS、JavaScript，也可以写 React、Vue、Less、Sass等，只要能够转成 HTML、CSS、JavaScript 就可以。

# 流程模型

要使用 Electron 写代码，脑子里得有这个流程模型。

Electron 应用的核心围绕着主进程。

主进程就是一个特别纯粹的 js 文件，这个文件基于 node 环境去运行，可以肆无忌惮的调用 node 的任何的API。

主进程最主要的目的是管理渲染进程。

渲染进程可以通过窗口进行理解，每一个窗口背后都对应着一个渲染进程。渲染进程是浏览器环境，可以解析  HTML、CSS、JavaScript。

主进程可以管理多个渲染进程。

这就是主进程和渲染进程之间的关系，所以 Electron 并不是一个单线程的应用。

主进程和渲染进程之间是能通信的（因为环境不同，渲染进程无法执行的操作可以通过通知主进程进行操作）。

主进程可以调用原生API。所谓的原生API，那就是对应windows、linux、macOS 三个平台。原生 API 对三个系统进行的操作（比如系统通知）进行了封装，无需具体调用某一系统的 API 即可实现对应的功能。

##  快速开始（看官网）

npm init 创建 package.json，author 和 description 补全，否则后续无法打包

哎，这会呢，我就不带着大家在这官网上一点点看了，对吧？你看他在这是不是告诉你了来，你看一下各位。在这个位置，他是不是说作者得写上他是不是说描述得写上啊？他说如果你要不写的话，那可能打包是吧？他说是必填项嘛，所以在这我们就快速的写上。写我名啊，
这描述呢，简单写一下this is呃呃。electron demo好了，这些就都不全了，然后呢，你仔细观察官网，还给你写一这东西，看这给大家放大一下。它把这个m in呢写成了一个m in点gs，其实我跟各位讲，这都无所谓的是吧？这熟悉前端项目的同学都知道我写个a点gs都无所谓，回头我在哪个文件里边指定入口的时候，我得写一个当前目录下的a点gs不就得了吗？对吧，
所以说咱还是听官方的吧，他让写啥咱就写啥，这是命点js OK，准备好了继续看，他 还教我们怎么办，他说你要安装谁electron了啊，这么长的命令，其实有用的就这个是吧？好了，复制它的名字，回到这边，然后走着，这是npm I把这名字粘过来杠大写的d，它是开发依赖啊，回车走。
稍等，让它安装着啊，应该会很快啊。cls清空一下哈好了，那接下来呢，继续看这文档，它说你要改一东西，要把这个短命令加上一个start好了，你就听它的整个复制回到这边，然后找到这块，把这test删掉。放在这注意啊，各位一定注意这块，人家是有一点的啊，别把这点弄丢了，
是有一个空格，还有一个点的OK好保存，然后这官网就特别有意思啊，官网接下来呀。就让你start，然后当时呢，我也是信了他的鬼话是吧？我说来，那我就执行呗，听人家的呗npm start。art结果哎，你看着吧d uang我说这怎么回事啊，结果一看官网人说啊，如果这样做的话，你的应用会立即抛出一个错误，
呵呵了。啊，你猜这个错误是因为啥呢？仔细看一下，你就会发现哈，各位，他在这报了一个东西，说我没有得到一个合法的m in，说白了，你这写的m in点gs，你有这文件吗？没有，所以说赶紧右键新建一个命点儿gs，你看这官方是不是还挺调皮对吧？好了，
这回文件有了，你别说文件里有没有东西？我是不是有文件了？OK呀，有文件你再start就不报错了。说老师这应用起来了吗？起来了，说老师那为啥我看不到窗口啊？您没创建窗口啊？老师那这怎么什么都不提示呢？你也没写打印呢？哎，那比如说ctrl c让它停掉，我在这ctrl log打印一个六六六保存好，这边清空一下，
重新运行走着，你看这六六六。是不是就来了呀？所以呢，接下来我们要研究的，你能猜得到就是这个命点gs它怎么写哎？如果刚才的这个图。啊，我就直接看笔记了哈，在这笔记里边有图，省着我再放那PPT了，如果这个图你记得，那你应该记得这个人是不是主进程啊？哎，那我告诉你，
谁就相当于主进程呢？这个命点gs其实这么说吧，有点不标准，标准的说法应该是命点gs在控制着主进程，那你说我不能在主进程这块就打印这个无聊的六六六吧。说白了，那桌面应用绝大多数都是有窗口的，是不得弄个窗口瞧瞧好，我就直接来了啊，各位，首先第一件事呢，就是你得引入东西。呃，require你安装谁了？当然是electron是吧？
那你就从这引入啊，引入啥呢？引入两个东西，一个是APP。哎，还有这个叫做browser window都是干嘛的？给大家解释一下，你跟人家说你写了一个桌面应用，那这个应用到底是谁呀？哎，就在这呢。APP哎，所以说这个是必须引入的，哎，就这么说吧，
各位，你盖房子没地基，那你怎么盖呀？对吧？你房子可以没有窗户，房子可以就一层，但是地基是不得有啊。好完事儿，这是谁呢？叫做browser window，我相信你看它的名字也能猜个差不多叫浏览器窗口。它的意思就是你接下来看到的每一个小窗口都要由它出来，其实你看这首字母你就知道它很明显是一构造函数。这个呢，不是构造函数直接就用，
所以那么接下来哎，说老师明白了，我就直接创建窗口，我就直接new啊，然后我就写上这个browser window。不行，各位说一下，不要上来就创建窗口，那要干什么？要写这么一个东西APP点on。就是当什么什么时候啊，那当什么时候呢？写上叫做ready。我这直接给一回调呃，那这个意思就是当APP准备好的时候，
它会自然而然就掉这个绿色的回调，对吧？你需要做的是在这个绿色的回调里边，你去创建窗口来闲话少说创建窗口。你有一个browser window来调用它，那么这一个窗口就出来了，那我问大家窗口是不是得有一些固定的宽和高，所以要传入一个配置对象来直接写with什么意思？就是宽度，比如说给一个800。好再来高度height那写一下600好了，这个时候我告诉你，你就可以得到一个窗口了好了，那这个时候呢，停掉清掉来重新运行一下走着。
诶，怎么样？各位这一个应用的窗口就出来了，那你接下来可能会说老师这是啥呀？我没有写这些东西啊啊，那就直接说你没写赠送给你的。这叫做一个应用的菜单儿，对吧？说老师我什么都没写，他给你平白无故就给你一个，那我问你VS code这儿是不是也有这些菜单儿啊？哎，这是他给你的，说老师这都是。干啥的呀？
挺无聊的是吧？这是什么放大的？这什么缩小的？哎，等等这些说老师那我不想要它，我不想要这小条条可以追加配置项就得了呗。比如说在这来一个这个都有提示的是吧？叫自动隐藏菜单栏，你给它来一个true这个时候停掉来重新再运行。哎，就干干净净的一个白板了，没有那个菜单了，说老师那这个菜单我想写出来VS code，这种感觉能不能写一个自定义的呢？能，
但不是现在OK，那你觉得这样好吗？也不好啊。你这里边是不是得呈现一些具体的内容啊，所以我们先来一套简单的哈，那在这呢，我想展示上硅谷的主页，那怎么整？说老师我明白了，加配置项呗，在这写一些什么奇奇怪怪的配置项。不是的，你猜错了，这回不加配置项了，这回需要这样做，
你要收到这个窗口，我就用win去代表了啊win好，接下来你要调用实例身上的一个方法，叫做load URL。就是加载页面好，那在这里边我写一个http。然后写上咱上硅谷的主页啊，3w点at硅谷点com好了，保存一下，停掉重新运行，那么这个时候稍等啊，网页加载它可能需要一下时间。啊，那这个页面就出来了，说老师那我就问你能不能现在我就打包就把这个应用就分发出去，
就给大家安装呢也行，那我问你，你这应用叫什么名儿啊？也忒简单了吧，你这应用。哎OK啊，那截止到现在呢，我们就一个最基本的就已经学会了是吧，但是呢，想跟大家说的是你这里边其实还能写更多的配置项，你比如说各位这。这会我还能写一个x是零，我还能写一个y是零，这啥意思呢？就是窗口的位置，
你看刚才窗口是在正中央的，我写零零什么意思呢？那就是它大概就是在这个位置。就是在左上角了是吧？哎，然后我们来看一下效果吧，来停掉重新再来，你看就在这个位置了，然后呢？还有的同学说哎，说老师这个能不能让它置顶呢？也能。你比如说我往旁边一点，它没了，失去焦点，
它就隐藏掉了，你可以让它一直置顶啊，有这么一个词儿叫always on top，你把它调成帧。哎，那么这个时候停掉，重新再运行好，那你看效果，它就一直置顶了，怎么证明呢？你看往旁边点，它也没有被遮挡住，这就是一直置顶。如果你有兴趣说老师，我就想知道这里边一共有多少个配置项啊？
哎，那你可以看这笔记里边，我已经给大家整理好了。来在这儿，这不有个搭建工程吗？在这儿，你看关于来同志们看一下这儿，关于browser window的更多配置项，请你参考这里点击之后，我给你粘了一个官网的地址，直接就可以看。这么多的东西都可以一点儿一点儿去调，在这儿不再过多说了，够用就行，哎，
这三个我就删掉了。同志们，由于这个时间关系，我不写任何的注释，但是我保证最终给你的代码都是每一行都有详细的注释。OK好，那么我笔记里的这个环节其实就已经过去了，搭建工程哎，那么接下来我们进入第五个环节就是加载本地音乐。页面好，那你不能一直写这种线上的网页，它可控性不强啊，我要加载属于我自己的本地页面，那这个时候右键就可以新建一个文件夹了。你可以叫src诶，
你也可以叫pages，就是页面相关的那么右键新建一个index点儿。at ml那你有这at ml是不是就有可能也有这个样式啊？index点CSS说老师，那我明白了，还得有index点gs，别急gs先不写。至于为什么一会再跟你说，因为它涉及到渲染进程的事好，那回到这呢，简单的写一个HTML页面，比如说呢，我写一个h1写好叫做欢迎。学习。ctr on啊，
electron。开发好完事，然后呢，简单的引入一下那个CSS link当前目录下的这个。这里边呢，简单写一个元素选择器吧，写一个h1啊，给它一个背景色，比如说呢，来一个grey黑色，再给它来一个文字的颜色吧，写1 color。来一个orange啊，来一个橙色OK，那这个时候说老师就行了吗？
不行你还得改在这，你不能load URL了，换API了叫load。file啊，好走着那加载谁呢？当前目录下的pages下的这个文件就可以了，好了，停掉它重新再启动。好，这个时候稍等一下啊，哎，就出来了，说老师感觉有点慢呐，第一次肯定会慢啊，第二次再开的时候它就快了，
来给它停掉。重新再来走着啊，可能也没快哪去啊，可能跟我直播有关系，行了，这会我就不再来来回回的测试了哈，说老师这不就行了吗？是的，然后我要告诉你的是，其实红色的部分。它就是一个浏览器，浏览器有一什么特点呀？可以开启开发者工具，所以说你摁下你熟悉的快捷键ctrl shift加字母I。这个时候你发现哎呦，
熟悉的东西出来了啥呀？这不是浏览器那控制台吗？啊，这会给它取消一下啊，就不再展示这个切换语言了，我的习惯呢，是把它放在下边。那你看熟悉的控制台就出来了啊，说老师那明白了，是不是拿electron写的应用就都能开启这控制台呀？默认情况下是都能的，当然你也可以给它仅用掉。比如说VS code，你看在帮助里边是不是有个开发人员工具啊？哎，
让你瞧瞧这是谁？这就是VS code的那个控制台啊，对吧好？好哎，不说那么多啊，回来看这儿啊，这就打开控制台了，这个时候呢，说两个小细节，第一个小细节，请你注意看node js这边的控制台。他报了一个，算是警告吧，直接说这个警告的意思呢，是跟自动填充相关的这个警告呢，
目前官方并没有做出任何的处理。我已经找到它git HUB仓库了，并且它这个electron里边的一个开发者是这样回复的，就是这个问题呢，不影响开发，可以忽略我们不会做出暂时不会做出任何的处理。所以这块呢，你就不用去管它，只要你看到类似于这种什么auto file自动填充，你就不用管它好，然后这块你得管看控制台，你发现有一个warning。这块呢，我就直接说了，各位给你放大一下，
这块呢，其实是关于一个配置叫CS。p翻译过来叫什么呢？叫做内容安全的这个警告啊，来给你复制一下。咱翻译查一下这个得需要解决哈。来翻译一下。叫做内容安全策略是吧啊，意思是啥呢？就是你这个网页能加载什么不能加载什么？其实你打开这个地址，官方给了你非常详细的说明哎，但是我在其他的地方，我找到了一个更为详细的说明就是。mdn啊，
这会儿呢，就不再多聊了，熟悉前端的同学应该都知道搜索csp，这会儿就有一个内容安全策略，说白了就是在你的网页里边配置啥，大家可以看一下配。配置met a标签儿啊，用这个met a标签儿去控制你这个网页儿能加载哪些资源是吧？规则是怎样的？那在这儿呢？它官方给你写了一个，但这不是很全，在我的笔记里边，我给大家写了一个最全的啊，那就全选复制回到这边，
你只要把它粘到你的这个网页里边就可以了，好了，那我直接回车。把它粘在这个位置吧，好诶。复制多了，这个点击复制好，放在这里什么意思呢？大概跟大家说说啊，我就先说一组配置吧。这是一组配置，这是一组配置，说说这什么意思啊？default src就是如果你不做出任何的说明，你引入的外部资源只能是属于同源的。
啊，这个style src就是专指啥？你引入样式的时候啊，可以有两种写法，第一种写法就是可以引入同源的样式表哎，比如说你家是哪个网站，哪个主机名，你也可以引。引入同源的这个样式，那这个的意思呢？就是可以使用行内样式啊style=background color哎，这些行内样式都是可以写的。我给大家配置的这个都是什么意思？视频里边啊，我给你讲的时候我就不再赘述这些东西了，
这些大家自己下去看一下就可以了，关于你想知道更为详细的这个东西，那你可以看这儿。对吧嗯，同学还提醒我说这是政策对，就是内容安全政策内容安全策略是吧？哎，都一个意思，好完事儿，你只要加上这个东西，你只要一保存。回到这边说老师，我怎么刷新呢？网页怎么刷新？你这就怎么刷新呀？
你f5啊，或者是ctrl+r啊，都可以刷新，那么直到现在。诶，你算是把本地的网页加载成功了，这会你就不用再管它了，好完事。呃，那接下来进入我们笔记里边的这个哎，叫做完善窗口行为这个呢，我说一下各位，你想做就做，不想做也无所谓。啊，
我说说什么叫完善窗口行为，其实在这六里边呢，是我按照官方文档给大家梳理的，一共进行了两个完善，我给大家描述一下，看大家是否能够听得懂。对于我们的WINDOWS电脑和我们的mac OS系统，其实呢，它们两个处理一些东西是不一样的。先说WINDOWS，Windows系统。有这么一个特点，就是当一个应用所有的窗口都关闭了，那么应用。就自动退出诶，
说老师不理解好给你举例子，电脑上我有一火狐浏览器好，请问这是什么？这是不是火狐浏览器的整个这么一个大窗口啊？来你看一下任务栏，这是不是有一火狐的进程在这里啊？好，那你看好啊，我再开一个页签，我再开一个，接下来我依次关闭，不要了不要了，看好不要了，我关掉最后一个窗口的时候，整个应用就自动退出了，
这就是我说的这句话。我再接下来往下说这个mac OS，它有一个什么特点呢？就是应用就算退出了，在你的doc栏里。在你的doc栏里，你还会看到这个应用啊，所以说就是想完善一下这个窗口，也就是说如果你不做这六。没得所谓，但是你做了，你会让麦克的人用苹果系统的人觉得你这个应用就是符合苹果的窗口管理的。熟悉WINDOWS的人，你就觉得呢？这个东西是符合WINDOWS窗口管理的，
所以说其其实就让你加上两段东西，这两段东西呢？是在它的这个官网里边有，我们就直接拿过来哈。稍等呃，调成中文的。找到docs。找到教程。这儿快速入门，然后往下往下往下再往下，这些我们都做过了啊，同志们写这页面，我们是不是写过了？写这个安全策略，我们是不是写过了？
好，再往下再往下，哎，开始了，其实你要加上的就是这两段蓝色的代码来，我直接拿过来，然后再给大家解释啊。回到这边粘过来好，再来回到文档里，注意它是写在这个里边了，好，那我再拿过来。把它放在这。好，接下来这会缩小一下，
给大家解释解释啊，来你看一下APP on当什么时候发生呢？当所有的窗口都关闭的时候啊，那然后干嘛呀？它要进行判断，判断的是什么来说一下这个绿色框是什么意思啊？绿色框的意思就是如果你不是苹果系统，如果你不是麦克，不是麦克干嘛执行了红色，你猜红色啥意思？APP点quit啥意思？是退出，所以整个这个黄色代码的含义就是当所有的窗口都关闭了，并且你还不是苹果系统，那我就咋地，
我就把应用自动退出。嗯，说白了，这么写完了更丝滑，那这个是什么意思呢？哎，就是当窗口被激活的时候，被激活的时候，你干嘛呢？看里边写了一个判断。它说如果这个应用被激活了，并且当前的窗口数量它是零。其实这是苹果系统的特点，就是比如说那QQ你，你都把QQ退了，
你就发现苹果那doc栏里啊，苹果那doc栏里那小企鹅。我就直接用字吧，那小企鹅还在这呢，其实你都已经退出了，但是你记住这小企鹅它的进程并没有结束。它的进程依然还在，哎，只要你但凡再点一下小企鹅，马上又开始给你创建窗口，所以说这个的意思就是当窗口被激活的时候，那我要干嘛？我要判断一下。现在有没有窗口啊？准确的说是当应用啊，
当这个应用APP嘛，当应用怎么地被激活的时候，我要判断一下，现在有没有窗口？如果没有窗口，就是零窗口数量是零，那干嘛我就去创建窗口，但我问你的是你有create window这方法吗？你没有？那咋办诶，很简单，你就把绿色的代码封装成一函数，那函数的名字就叫做create。window就可以了，所以那么接下来把这整个这些拿走，
往这一写function。create window.就完事了，好那么接下来收起来这块这么写啊，那这块呢？就直接写就可以了好，但是它官网写的吧，跟咱这还不太一样，官网是把这红色的呢放在了蓝色的里面。然后你可能会说哎，老师不对呀，官网这怎么写的？是when ready写了一个点儿then呢？给大家放大一下，when ready点儿then说老师你写的不是啊？
你在这写的不是这个on ready吗？说一下各位啊，就咱不说这些行来，各位咱不说这些行。在这console打印一个词OK好，那我问大家，现在我停掉，我去启动。打不打印okay打印呢？因为应用准备好了呀，那这段代码我可以不这么写，你可以给它注掉怎么写呢？这么来APP点。调这个叫做when ready调用它返回一个promise，你给它指定一个，
then给它指定一个成功的回调，成功的回调里边打印OK来停掉这个应用，这时候你再看。这不还是这样吗？但是我就不喜欢用这个，when ready我就喜欢用这个on，我觉得大家也好理解诶，而且你看这都是on它API风格也统一呀。所以在这那就把它也解开，那把整个这些也解开，然后呢，它推荐你把这个东西写在这个里边。好啊，那分析一下是为什么呢？简单呢？
应用准备好完了之后啊，我管你那事儿呢，直接上来我就给你创建个窗口来，依次给大家解释。如果这应用准备好了，我就会立刻执行黄的去创建一窗口，然后马上我就绑定一个事件，叫应用被激活。windows压根儿不存在这事儿，什么应用被激活应用，要么就是有进程应用，要么就是没进程，也就是说这段儿就是给苹果看的。苹果才能涉及到一个事儿，就是应用都已经不运行了，
但是处于未激活状态，如果你激活我，我看一下窗口有没有，如果一个窗口都没有，我照样去给你创建一个窗口完事儿。所以说就这一段儿吧，各位，如果你能理解，那就理解，如果实在理解不了，不必深究，每一个electron应用为了实现丝滑般的窗口儿切换都会这样做的。对吧，现在是直播，我没时间，
各位呃，现在是直播，我没时间，所以说呢？等直播结束的时候，我去给你东西的时候，那这块我是一定要给你写上注释的，好了，我们停一下，重新再启动一下，哎，稍等，这东西就来了，控制台想打开。啊，
那你就直接打开嗯，控制台就有了好完事好，那我们笔记里的这个就结束了哈，来回到这叫做。完善窗口行为，其实学任何东西都是哈，如果有固定的写法，你可以先写着啊，后边你可以再琢磨琢磨它到底是怎么回事，然后呢，就是第七个了，就是配置自动重启。因为大家发现了一个事儿哈，我每一次改完代码之后啊，我都得自己重启一下，
比如说应用准备好了之后，我打印一句中文叫做应用。准备完毕了，保存，请问控制台上有任何的输出吗？没有需要你停掉，然后呢，重新再启动。这个时候才有是吧？那这就不好嘛，所以我们可以配置一个自动重启哎，那需要你做的是。安装一东西啊，这个大家都熟悉，叫做node梦，
它也作为一个开发依赖啊，就是node梦，大家应该熟悉是吧，然后接下来你要做的就是改一下，这命令别直接。用它哎，用这个node梦去启动它杠exec哎，就代表执行的意思，这是两个杠啊，杠杠exec。electron好，那这个时候呢，你就会发现当你再去启动的时候呀，你改完代码之后，它就会自动重启了，
比如说我改一个点js文件。在这后边呢，我给它加上三个感叹号哈，一二三保存，那这个时候你发现它自动就又重新出来一下，重启了一下，并且这会也打印了，对吧？但是呢，你发现有一些细节做的可能还是不是很到位，比如说我在这块给它加上一个感叹号，我改的是页面pages里的东西。那我一保存，那你发现它并没有自动刷新，还得我手动ctrl r去刷新一下，
那这得怎么做呢？需要你加一个配置文件，那么时间关系我就拿过来直接用了，因为这东西一查呢是一堆一堆的。啊，就是加这么一个东西，叫做no dem点json复制一下，回到我们的代码里走这个里边配置的是no demon，到底监视哪些文件？诶，那我把整个这个东西就全都拿过来往这一放。完事啊，这两个大家能猜得到这两个是啥呢？忽略node modules，这是忽略那个diss的打包的文件夹啊，
这个是监视谁是所有文件这个呢？是包含谁包含at mlcs s还有gs？对吧，这是啥意思呢？这是一个短命令，比如说举个例子，现在我什么也没改，我就想让它重新刷新一下，我就可以摁字母r，比如说我在这摁一下字母r回车。啊，稍等一下啊，来重启一下走着。好，我们先试验一下，
我改HTML代码，它能不能进行自动重启啊？比如说再加两个感叹号，我一保存，你看自动重启了吧？好，那在这呢，我敲一下字母r，然后我敲一下回车，你看它也自动重启了一下，稍等，哎，可能有一点点小卡哈，完事那这个就结束了，叫做配置自动重启。
那么，接下来各位啊，别看九点了，一个最主要的东西要开始了，就是主进程与渲染进程。那么，这个主进程其实呢？呃，就是谁呢？那时候也跟大家说了，就是这个命点来，我把这些东西都关掉，省的大家乱啊，各位。命点gs，
其实它就是我们所谓的主进程好说，老师那我渲染进程在哪呢？截止到目前，你还没有见到渲染进程呢，那我给你写一个运行在。渲染进程上的东西看好了，在pages里边其实正常来讲吧，我得写index点gs。啊，但是人家官网上没有写index点gs，人家官网上就是怕你不知道这么多gs都是在哪运行的人，官网特意给你写了一啥。render哎，同学这名儿你说够直接吧，render本身是不是就有渲染的意思？
好，那我就告诉你各位这个render执行在渲染进程上。好，那怎么让它执行啊？简单页面级别的东西嘛，很简单呀，引入这不就得了吗？当前目录里边的render。好，那所以接下来我把这些东西都给大家盘一盘哈，简单给大家放大一下。走着，同志们，就这个里边是不是代表页面的东西，它都是在哪个进程上运行的呀？
渲染进程同志们，这红的这是哪个进程啊？这是主进程好打开命打开render render里边你多少？你得写点东西呀。所以说在这呢，我简单来写一按钮俩字点，我给它一个ID啊ID，比如说叫做btn 1。好回来，那在这边我是不就可以获取到这按钮啊？did BT n1吧？好，那接下来。给这个btn 1呀，绑定一个点击事件click哎，
你只要一点我就alert弹窗弹窗啥呢你？点我了，好保存一下这按钮，这不出来了吗？给大家放大一下这网页哈，走走ctrl shift。再按加号就是放大，就是原来你网页怎么操作吧，你这也怎么操作是吧，你点一下走嗯，你点我了OK没问题，控制台呢，咱也给它开起来哈ctrl shift I控制台开起来。好完事啊，那所以问大家伙啊，
这两个gs都给你摆在这。这块呢，给它关了吧好。整个绿色的。这么写吧，重要的用红色，整个这个命是谁主进程？这绿色的是谁渲染进程？主进程只有几个，一个只有一个渲染进程，可以有n个。对吧，你创建一个窗口，我就是一渲染进程，一个渲染进程里边可以跑很多，
对吗？好，那接下来咱们来验证一个事情。你说既然它是主信主进程，它是什么环境下运行的no的？哎，那我就问你，你觉得这我能写1 alert吗？不能啊，马上就报错，看这报错的原因是啥alert没有定义啊，不能用啊啊，说老师那我console log我能不能打印？window呢啊，那你自己看呢，
放大呀window没有定义啊，好，那么接下来回到这边，那你说。这边儿我诶，那我问你啊，我能不能打印DIR？name呀。保存一下，能不能回头看一下啊？在这呢，能不能打印能呀？可以的呀，没问题呀。好，
那回到这边，那我问你啊，同志们，你说这我能打印dirname吗？这是浏览器环境啊，你看一下控制台啊，稍等一下。这报的什么错误啊，你看看是不是它没有定义啊，你是不能打印它的，但是这里边我能不能打印window啊，什么alert呀，这是可以的呀来。看一下回到这儿稍等哎window能不能打印是可以的okay行了哎那现在。你觉不觉得有那么一丝丝的尴尬，
就是谁和谁好像是完全隔离开的呢？这个主进程。和我这个绿色的渲染进程，同志们，你觉不觉得它是完全隔离开的那？隔离开的，既然是隔离开的一个问题就出现了。它俩之间没有办法打交道了。它俩之间不能再通信了。那你可能会说老师不通信就不通信呗，那就拉倒呗，是吧？她不想搭理我，我还不想搭理她呢，但是有些时候。
你没有办法，你只能搭理他，比如说同志们听我说我alert弹窗的时候。我不想弹出你点，我拉那想弹出啥呢？我想弹出当前你所运行的electron的版本。就是不想写死这句话。哎，说老师，那我怎么拿到版本呢？看好我在主进程里边给你拿一下，其实可简单了，内置的这个process点它。他身上啊，就有一东西叫watson，
这watson就是版本好，各位看到这儿了吗？二十点一四点零，这是啥？这其实准确来说是我的note的版本，其实你可以拿到更多的各位。你可以不用watson，你用watson撕点儿，你可以拿到kara的版本，你还可以拿到。这个node的版本，你甚至还有可以拿到electron的版本，所以呢，你看嘛，各位。
c啊，它那个用的是126那版本node，它用的是20那版本，因为我电脑上安的就是20的版本嘛。electron啊，它用的哪个版本？三十一点二点零对吧？这些版本都能拿到，那你可能会说老师那太简单了，我不拿这么多。我拿一个就够了，就这watson对吧？我就要这个node的版本，那你就把这个东西你剪切走嘛。完了，
你往这一写嘛，你alert你别弹它了，你弹这得了呗。那试试啊，来控制台，我给你开好了，你试试啊，回到这边控制台调整一下，我点了啊，走报错。报啥？那你自己看嘛process is not defined很明显，你这个玩意它是啥？它是主进程里的东西，它是node里边独有的东西。
大哥，你把一个node里边独有的东西。在浏览器环境下做读取，它不出错就怪了，所以呢，我问你，现在你是不是没辙了呀？所以怎么办？这时候就得需要主进程和渲染进程之间通信哎，那通信它的做法也很简单，时间关系我就不再卖关子了啊，各位我就直接说了。他俩之间要靠一中间人。哎，给你画一下。
这是主。啊，这这是谁呢？这是渲是吧？渲染渲染它需要一中间人需要一黄色的，这叫啥叫预加载脚本？叫预加载脚本，我跟大家讲这个预加载脚本吧，它特别的有意思啊，直接说。欲加载脚本也是脚本说老师，那它到底在哪个进程上运行呢？它在渲染进程上运行。这事儿先定了啊，也就是什么环境呢？
它是浏览器环境哎，它是浏览器环境，这第一个我要想跟你说的，第二个就是你别看人家在渲染。进程上运行，别看人家是浏览器环境，人家也能访问一部分的。弄的API嘿，说白了吧，就是就是就开玩笑的说啊，各位就男不男女不女，对吧？你你你说是他是男的吧？他办事儿。怎么的？
还还不像男的对吧？唉，所以说就是这么一个唉，来来回回很挺挺阴阳的一个东西，这就是欲加载脚本，我告诉你很多的时候都是这个欲加载脚本，在协调主进程。和渲染进程之间的事好，那么接下来闲话少说，弄一个预加载脚本，咱弄弄它右键新建一文件。注意不是pages里的，不要放在pages里，直接放在根目录下preload本身直译过来就有预加载的意思，我不希望你。
把它换成什么别的名字，因为官方写的就是这个名字preload好，那接下来呢？这么的各位啊，我想把这个。停一下，我不想让它自动重启了，这玩意太烦人了。回到这改一下，我不想让他这么这么做，我就想正常，就我想执行的时候，我自己手动执行。好，那么接下来我把这几个人呢都给你摆在这，
各位你你最后瞄一眼啊，命在哪呢？根目录下啊，这个是啥呢？预加载脚本在哪呢？根目录下哎，这是谁呢？这是渲染脚本。啊，在哪呢？在pages里呢？好，接下来我把这些东西啊都给大家进行一个平铺好。聊聊谁呀？朱金城谁呀？
渲染进程哎，这儿谁呀？欲加载脚本干啥的呀啊？是作为主和这个渲它俩之间的一个桥梁。好，那接下来咱就试试它，同志们，我问你啊，这个m in点js人家应用一开始是不是就运行了？你这个render点gs是不是在页面里边引入了？也就是说这个gs和这个gs都可以顺畅的执行啊，尴尬的就是这个黄色的gs。它并不能执行任何东西，或者说它并不能执行，因为没有人引入它，
所以一个不允许。自由发挥，不允许自由发挥，必须得这么写的东西出现了，就是如何让你的预加载脚本。得以执行。比如说我在这console love，我就打印一下。preload咱就琢磨一下，让它怎么执行？哥们，我告诉你，如果你要是在index点at ml里边，你说老师简单，这玩意太easy了。
这不at ml文件吗？我咔嚓一引入，那不就得了吗？那我告诉你，那你的这个preload点gs你照样没有办法跟它打交道。所以不卖关子了，直接说啊，各位要求你得这么做。首先你得找到命点js哎，你得找到它，然后呢，在创建窗口的时候啊，注意看来把这个。调旁边去，调旁边去，
这么的啊，我给大家截几个图啊？好写一下。主进程。啊，我是怕那什么，怕这文件一多吧，大家该乱了，放在这，这是主进程。好，再来。写上文字。预加载脚本。调一下嗯，
颜色也调一下，调成这个吧。呃，调成调成蓝色吧。飘一下好再来。最后一个了啊。呃，文字。渲染进程这个调成绿色。调一下位置飘起来，放在这好哎，这回这些东西都放在这了，大家就明白了，你得在主进程里来，我稍微缩小一点，
主进程里边加一配置项，这配置项叫做web preference。啥意思呢？叫做web的高级配置啊？web的首选项在这里边，你要写一配置项，那配置项的名字就叫做preload。接下来请你编写preload里边的那个具体的路径啊，那你可能说老师我直接就写呗啊，什么下的？这个preload不行，它这对你的要求是必须要写一个绝对路径。不能写相对路径，得写一个绝对路径啊，那绝对路径呢，
咱们也会写是吧？哎，就是需要呢，你在这引入一个node里边固有的模块。叫做pass，然后呢？你把这pass呢？可以给它放在这好，那么接下来就是pass点儿，这大家都熟悉r，然后这呢下划线下划线dirname就是当前的这个目录嘛。然后在这再来一个这个preload好了，这回就可以了，说老师这回我的这个预加载脚本就能执行了。是的，
那我们一起来看一下哈npm start。走着同学，我问你个事，怎么证明我的预加载脚本执行了啊？这不是预加载脚本吗？怎么证明它执行了？是不得有打印？哎，那我问你的是咋没打印呢？如果你要问我这个问题，说老师你这不写了，打印你这怎么没有呢？哎，那就证明呢，你没有理解预加载脚本是在哪个进程上运行的？
同志们，能在这个地方打印出来的东西是不都是来自于主进程哥哥？主进程是不是node环境？node环境的log是不是体现在这里呀？好，那我问你它在哪儿运行来着？刚才跟大家说了，它是不是得渲染进程里边渲染进程是啥？其实就是浏览器呀，就是窗口啊，哎，所以说同学们说对了，你得在这个里头去看哎，有没有？有啊preload呀，
值得你注意的是同志们再一次听我说，值得你注意的一个事儿，脚本执行顺序就像我屏幕。从左到右的顺序是一样的，主进程先打印，先执行，随后是预加载脚本儿，随后才是渲染进程，怎么证明这事儿呢？很简单。来就在这个位置console log render啊，来接下来大家去看打印的顺序停掉重新运行。首先看这儿是不已经打印了，随后这儿是不才出的东西，随后看一下浏览器的控制台，
同志们，你自己瞧嘛。preload完了是render啊，好了，说老师那你截止到目前，你只是折腾了一圈，你把这预加载脚本咋的？你让它执行了那么一下下，但是你刚才说的你实现不了啊，你刚才不是告诉我了吗？怎么的呢？得需要在这提示no的版本啊，那我看你接下来怎么办好，接下来呢？别急。
预加载脚本儿，你还记不记得我刚才跟你说了预加载脚本儿，它是在渲染进程执行的，但是也能够使用。一部分的node API，所以看好在这个后边，我要打印东西了。process点儿。watson.哎，说老师，你刚才不是说这个东西是node里边的吗？是啊，它是node里边的，由于你是预加载脚本，
你可以使用一部分的node API呀。那这个红色的process点watson就属于那部分node API呀，所以这个时候来回到这边，各位。改的如果是渲染进程的东西，不需要重启刷新就可以回到这边看好刷新一下怎么样出来没？出来了呀哎，所以你感觉一下这个预加载脚本是不是挺神奇哎，你想想哎，你信不？你把这玩意放到这，必定报错。因为渲染进程，这个渲染进程那可是正常的渲染进程，但是它是预加载脚本哎OK说老师，
但是你还是没有实现，你还是没有实现，我刚才说的那个效果就一点按钮弹出来这些东西。好哎，那我问你，我可不可以这样做呢？预加载脚本。我这么跟大家讲。这是主进程。这是预加载脚本，我问大家伙，他俩觉不觉得期间好像是有点关联了，咋关联的，你看第十行嘛？你看第十行嘛，
它俩有点关联了，但是问你它俩之间是不好像还没啥关联呀，马上就让它有关联，咋有关联，你看好了，我开始引入东西了。走着require。还是从electron身上引入，我引入这么一个东西，你看好了，各位叫做contest bridge。来同学主进程靠边儿去，同志们别乱啊，别乱主进程，我只写了一这玩意儿，
我没写别的，我就是让玉加载脚本儿认识一下主进程。好主进程边儿去拉倒，咱就看这儿同学，你说这啥意思？contest是不是有上下文的意思？bridge是不是有桥的意思？那你看，真是这种感觉吗？这是左边，这是右边，那中间这是啥？中间这是桥梁哎，你看叫做康contest bridge。然后接下来要做的是啥？
要做的是这样，你调用contest bridge身上的一个API。它的名字叫做这个。is pose in mean word来翻译一下啥意思，在主世界中曝光，说白了就是你在第四行。你曝光谁在这个位置，你就可以看到谁说老师，我在这边我弄个a行啊，这边就能看到a。不信咱就来试一下，来调用它这边要传入两个参数，第一个参数呢就是你给它的一个k。比如说随便来啊，各位，
你就咱就随便来ABC行吧，传入一个对象，对象里边我写个xyz。是100写完了，同志们，我就告诉你，就在这个位置，就在这个渲染进程的这个位置来换个颜色。就在渲染进程啊。这个位置你就可以得到xyz。啊，我先让你看看这syz它在哪啊？我在这给你打印一东西叫window。好，我不写这一段啊。
我不写这一段，你看他打印的window里边有没有ABC啊？回到这边刷新一波来全屏。给大家放大一下。放大网页也放大来回到这啊。刷新一波接下来点window，你去找window身上有没有ABC没有？window身上带a的就以alert和a top就这俩对吧？好，那所以说接下来回来我把这段解开。啊，解开了吧，回来刷新点来找window，身上有啥ABC ABC的值是啥？你写啥它就是啥，
你不是说对象吗？它就是对象啊，里边有啥xyz 100。所以我问你ABC在谁身上啊？window身上哎呦，我的妈呀，这玩意儿如果要是在window身上，你还打印啥window了呀？直接是不就ABC了呀？回到这边刷新来走，你拿到了吧？我想用xyz怎么办呀？点xyz呀？完事了呀，兄弟回到这边刷新一点，
看是不100啊？好哎，那我问你能不能别写100？这能不能别叫ABC来好听点叫my API？这能不能别叫syz？这能不能叫做watson这？这能不能别写100？能不能来个好听点的，真正的版本process点？watson啊，那你这得怎么写my API点？谁watson好回来刷新一波走，你是不这样的，但我的要求不是console log。我的要求是alert，
那就更简单了呀alert把这一堆拿走，往这一放删掉。搞定回来保存，看一下效果，回到这儿刷新一波一点，看是不是node版本。完事啊，当然这个可以小一点是吧？哎，小一点，刚才那太大了，走走，所以呢，这个时候大家捋顺一波啊，你能不能明白这预加载脚本是啥意思？
但是吧，我想跟你说的是啥吧，这御加载脚本，它没你想的那么牛。它你记不记得刚才我用一词儿，它只能写一部分，它只能写一部分的node API，有些同学说老师我这么的。啊，怎么的呢？我这写一个xyz完了，我用这个dirname，他就觉得说老师，你看dirname是谁？独有的是node，
独有的。预加载脚本啥特点呀？可以使用部分的node API，那你说这个是不是就也行呢？我告诉你，实际上它是不行的，根本就是不行的。啊，那比如说我们可以来看一下，在这呢，你ctrl log你可以打印一下my API身上的点xyz好，那这时候你试一下，同学说我这快捷键可能冲突了是吧？哎，确实有可能有可能我开了很多的这个软件嘛。
那可能是冲突了好，那你看一下呗，下划线下划线dirname怎么的呀？is not defined，所以你的预加载脚本是不能访问。这些的那这个接下来就又尴尬了，貌似解决了一部分问题，但是好像还根本没有，实际上把我的问题解决呀。有一些需求好像依然难以实现呀，哪些需求呢？来各位酒我们已经完事儿了啊，加把劲儿。酒我们已经完事了，接下来进入晋城通信。
啊晋城通信，首先这些笔记大家下去自己慢慢看，我提出一个需求，同志们说一下。预计再有20分钟吧啊，预计再有20分钟，我的直播结束好吧，所以说接下来呢，我先继续的讲啊。好，接下来我们讲第一种通信，叫做渲染进程，向主进程。通信真的同志们，你听我说，
你如果能把红色的这些搞定了。剩下你自己随便的去参考官网，随便去写这些功能，但是如果进程通信你搞不定，同志们，我告诉你。你的页面儿和你的系统底层永远是隔离开的，好来看这个红色框的需求多了。不说了啊，来走。点击按钮后。在用户的D盘上，创建一个hello点tst的文件，文件的内容来自于用户输入。诶，
所以说接下来先把页面写好，来回到这边，那这些东西我都留在这哈，然后呢，我得把这个页面。打开这样的话，大家能看起来清晰一点，好写谁呢就把谁呈现的大一点，预加载脚本呢，放在这。我不是要写页面吗？那我就把页面放在这同志们这块来一个br br，再来个HR。协议button。叫做象。
D盘写入。hello，点tst那内容呢？写个input得看上边输入啥呀，这俩东西肯定要用啊。所以每一个人都给个ID，这个ID是input，你这个ID呢？是btn 2那btn 2了吧？刚才那不是一吗？好了，这俩完事了，那接下来要做的就是回到哎，它对应的这个gs里边拿一下按钮二呗。走拿一下谁呢input呗。
好按钮二干嘛呢？绑定点击事件呗on click好干啥呢？先简单的弹窗一下吧，弹谁弹你输入的内容，这块不做过多解释了，大家应该都OK的是吧？刷新一波来，那我把这窗口呢，也给它调的大一点吧，好回到这看好我写一个一二三。呃，然后点击点击还不能向D盘写入，它只是一个弹窗，哎，可以的，
没问题，所以接下来大家觉不觉得？我应该怎么做？我应该想办法。在渲染进程。拿到的一二三。想办法去通知给主进程。让主进程拿到这个一二三。写入D盘。hello，点TXT。是不得是这样的呀。那这就是干嘛呢哟？这就是进程通信呢，你觉得呢？
我是不应该从渲染进程，把这一二三递给主进程啊，这就是典型的。杀晋城通信。怎么完成呢？看好非常的简单，这个桥梁必须得借助。看好这个桥梁，我这回怎么写？同志们，你用心里告诉我哈，这是哪个进程？给哪个进程传东西？渲染进程给谁主进程干啥传东西高端点，说叫通信好，
接下来看好怎么做啊各位？这个watson怎么用？想必大家都明白了，就是这么用，当然这会呢，不要再打印这xyz了，它没意义了，接下来看好你是不想保存一个文件呀？save file好值是一函数。哎，函数好。里边干啥呢？你让他去通知主进程啊，说老师明白了，就是渲染通知他，
他再通知主进程，对喽，就这意思。好，咋通知引入一个东西ipc就是进程通信。哎，同学，我问一下你在哪儿？你在哪儿？你告诉我你是不是在预加载脚本儿，预加载脚本儿是在哪个进程下完成呢？渲染进程，所以你要引入ipc谁？ipc渲染进程引入ipc。render接下来非常简单，
其实就是消息订阅与发布模式，但是人家不叫消息订阅，发布人就非得叫进程通信。啊点写一啥send，它传入两个参数，第一个参数叫做信道。哎，其实就跟我们自定义事件那名是差不多的，后边跟着是什么呢？你猜哼数据呗，所以在这呢，给它来个信道。好信道，其实就一字符串，一标识。
比如说文件相关的，那文件相关干啥呢？save file杠save。好，那接下来这个数据呢？数据简单接收呗，你给我EDTA，那我在这呢，我就EDTA呀，好，那我问你这边呢，你就别alert这个了呀，你怎么的my API？点是不是它呀？好save file那file文件内容呢？
你输入啥就是啥呀？点y6哎，你理解理解。my API点save file传入东西，它就调用了它一调它就找大哥去找主进程去，但是我想说的是，现在主进程压根就不搭理你的第七行代码。因为你的第七行代码一直说快，你切到这个频道，我要给你个东西，这主进程压根不知道有这频道。所以说现在得怎么办？主进程得订阅，谁得订阅这file save啥时候订阅最合适啊？整个load file之前。
同学，大家想想，你说要都load file了，页面都加载了很多初始化的东西，可能就不行了，所以说在这儿你要靠它完成。你在哪个进程啊？主进程那就引入谁呢？ipc主叫啥命呗好？ipc命要干嘛呀？放在这看好ipi PC命点，你这边是不是叫散的呀？啊，那这边简单叫on叫当什么什么时候当什么时候啊？那看你呗，
你这边不是five save吗？那我就five save好。后边给它一回调回调叫啥write file write file这词都你自己写啊，就随便叫什么名都行，那你有这东西吗？没有没有，怎么办呀？function写上write file先别急，我打印一下a逗号b逗号c，看看他都能拿到啥东西啊，来各位说一下流程。一会呢，我要点那按钮，我一点。这就执行了来。
我一点按钮，11行就执行了，11行一执行啊，它掉的其实就是这save five save five里边啊，就ipc render就发送一个消息。由于这边呢，它订阅了这个消息，并且还指定了这个消息所对应的回调，所以最终的最终。就是write file函数被调用了，我们主要看打印的东西好，那么接下来回到页面里边。重启一下吧，走着回到页面这边，我开始了啊，
随便写一个五呃六七。七点击走你哎，你看一下a是啥？那a是这一坨上边就不用再看了。a就相当于我们前端里的事件对象。这个五六七是啥？这才是你真正的data ta数据说老师，那这undefined是啥？收多了，它压根没c。所以说收到两个参数，一个是event，一个是data，我不需要event，我需要data。
需要data干啥？写入文件。为了避免歧义，我先去我的D盘里边把我那时候写的hello点TXT删掉。好，那么这个时候开始干嘛？调用node里边最原始的能力fs好fs要干嘛fs点？干啥？那就看你弄的过不过关了啊，我就用一个同步的写入就得了，往哪写往D盘下的hello点TXT写。写啥写data那这even它不就没用吗？那就下划线占个位得了呗，好保存完事我告诉你。写文件就形成了来我的D盘，
给你摆在左边，我写的程序摆在右边，好这块。随便写点高端的啊，写一个啥呢？写一个好听点的是吧？呃，春风。得意马蹄疾是吧？不信。人间。有别离好点击上D盘写入文件走你。稍等一下啊，回到这。呃诶，
我没写进去吗？我看一下啊，回到这第一盘啊，我没有重启，各位我改了主进程，但是我没有重启啊，我得重启一下来走着。好了，白文艺了啊，刚才刚想文艺一点行了，不文艺了是吧啊，那就洗刷刷哼就得了好了，本想文艺一下，没文艺成功来点一下写入文件啊，哎。
文件是不来了呀，你点开一下呗，洗刷刷，这不就来了吗？所以各位恭喜你已经掌握了electron里边任何一个开发人员都必备的一个技能叫做什么呢？渲染进程向主进程进行什么通信进行单方向通信，也就是说刚才的那个消息流向是这样的。对吧，好okay。啊，那接下来要再讲呢，就是这个了，双向的哎，我把这双向的呢，给大家也讲一下啊，
双向的呢，咱们就给它呼应上哈。双向咱就做这么一功能，你刚才不是往D盘写一文件吗？我在这再来一按钮，叫读出来D盘的文件。对吧，你别光写我读出来这文件好，还是先把这个给它写一写？页面写一写呗，是吧br？br br HR button.叫读取。哎D盘中的。什么呢？
这个。hello，点tst。给个ID呗ID。这是btn几了？得是三了吧？复制回到这边。复制一行，这是三。挨着三。好复制一份，这会改成三。好干嘛？是不是要读取啊？好，
那我问你啊，同学，你想想是不是这么一个流程？渲染进程啊，得想办法告诉主进程说大哥，你快点把东西给我读出来。哎，读出来之后呢，你是不是得有内容啊？哎，重要的东西来了，你还得告诉他一声，你不觉得这就是双向的了吗？其实我跟你讲，我这些东西的顺序和例子也都来自于官方，
只不过官方是用文字，我是用语音给你讲出来对吧？你看。这小箭头我给你弄的，这不是单向的吗？这不是双向的吗？好，那说说双向怎么玩？首先你是不是想读啊？哎，别着急，预加载脚本这块给它来一个，你刚才不是save five吗？现在换了。read file走着。
好，那你咋读啊？那首先别考虑这块咋读，你先在这把它调通，那这简单。来写上my API点。是不读啊，好，主要是这那还是ipc render点，但这回注意不要用send了，用这词叫invoke。invoke是不也有调用的意思呀，好走还是得写一个信道，这个信道叫做five杠read。读取啊，
那你后边这块你写不写都行，你当然想传参，你给传个一二三，这也是可以的，就是跟这都是一样的语法规矩嘛，但是我不需要传什么东西呀。那你就不写了呗，好，那接下来的问题是fread这边有吗？没有。那咋办？老套路原封不动的18行复制。18行复制，这回注意不用on了，用handle哎，
我跟你说这API可是挺多啊sun的对应谁？on invoke对应，谁handle好接下来这会？别写write file。read file.好定义一个函数。走里边怎么来呀？简单fs点read file，think同步的读取吗？读哪的呀？D盘下的。啊，然后接下来写hello点tst。好重点来了，各位你读读读，
你是不得把结果给人返回出去啊？啊，那么这块我就直接写了，熟悉这个note gs的小伙伴应该知道你读取出来的东西，它不是字符串，它是一八分。你得怎么滴？凸string是不才能把八分转为字符串？对吧，好okay呃，那这么的吧，咱们别着急哈，在这。我给你定义一个。res.
我给你打印一下，这res。前边呢，给大家做一个分隔啊井号。来说一下流程。一会儿我要干嘛？一会儿我要点那按钮，我一点就掉它。那他一调，其实就是他在执行，他一执行呢，就invoke了fread。那file read呢，在下边这块是有配置的file read的回调是啥呢？是read file，
所以说它就调用诶，所以说这时候停重启。我们来试一下，看好控制台这个位置的打印，点击走你啊file read没有定义，我看一下啊。没有这个handle吗？看一眼啊。命点儿憨豆，我写的是啊，这没改，各位看一下你这是不是有five read呀？但这我没改是吧？哎，忘了改写一下吧，
这是read。不是save好回来。重新再来。这时候稍等一下，哎，怎么有点卡哎，点击一下，看是不是读出来了啊？你看得回慢慢写一下是吧？初学者你也试啥？稍微慢点写好。那既然知道它是啥了，那我这也别卖关子了，直接return 2。res好看一下效果，
这边是不是有了？那既然有了，我这边是不是就得得到各位？我问你invoke的是谁呀？file read那file read在哪注册的呀？在这啊调谁呀？read file那read file是谁？是不是它呀？有没有返回值有啊？所以不出意外的话light x往这一接console log 1打印这x。前边加几个at符好小逗号呢，给它一写保存。好，那么接下来。停重启哎，
哥们，我想看这打印在哪来着？在渲染进程那渲染进程你就得看浏览器的控制台对吧？好，那这时候我就点了啊三。三二一走你哎呦喂嘿嘿，有点意思啥promise，注意各位，这会一定要注意，就是invoke的返回值。永远都是promise，想拿到最终的结果吗？那就得await，那这就得。a think好了，
那么接下来回到这刷新一波再读是不读出来了，但我不想写的这么复杂，我不想在这await哎，你说我能不能这么做呀？各位来看一下你基本功。我能不能直接就return？说白了，我的read five有返回值，返回值是啥？返回值是invoke的，返回值invoke的，返回值是啥？是promise。所以在这儿。light x.
是不就读出来的数据别叫x了，不好听啊，叫data。data哎呀。data那你这呢？a那你这呢？a think诶，那你这呢？打印谁data别打印了，直接一步到位alert。弹窗提示回到这边，刷新一波来读，是不是洗刷刷？那现在给它换了啊？呃，
再写成我刚才的那个对吧？来刷新一波。你看啊，我们哎，我这遇到一个问题，各位就是你看我点了这输入框，它能输入吗？不能你那也要是遇到这情况的话，你就得重启一下就行啊。来那重新再文艺一把呗，是吧？春风得意马蹄疾，好写入地盘。先别着急，我上地盘看一下有没有写入哈。
在这呢嗯，在这呢，好在这之后呢，我再一读这不就读出来了吗，所以我就把哪个也给大家讲完了呢，就是双向的渲染和主进程的通信。同志们，单向的是谁和谁s and和on双向的是谁和谁in vote和handle，那么还有一个就是主进程到渲染进程。啊，其实呢，说老师我不学这个，我就直接用十点二行不行呢？其实也可以对吧？哎，
那如果你要想看的话，你可以看一下这块，其实呢，它就是用了另外一种形式，其实。这会儿不想讲了，为啥？因为这会儿它用的，你看这API，大家就知道了，你发没发现它用的还是sun的？哎，你发现这块是不是还是on其实它跟一是一样的，它就是反过来了，大家能理解吗？
就是说白了，你原来是啥？你原来是渲染去散的，发送来给大家写一下。你原来是渲染去。send完了，谁去on呢？主进程去on。这不就是渲染给主去传东西吗？现在其实就是反过来了OK吧，各位，然后最后给大家补一个小点哈，最后给大家补一个，最后一个小小的点，我们马上结束啊，
各位，我知道大家也累了哈。最后一个小点是。你有没有考虑过渲染？进程给渲染进程传东西。有没有可能我的应用是多个窗口？有没有这种可能性有啊，那么渲染进程和渲染进程，它能不能传东西呢？哎，答案是不能直接传，那咋办？用一个人作为中间人，就是主进程，所以我提示大家一下，
大家可以下去自己玩一玩，练一练，而且官方。是有例子的，官方是有例子的okay好了，同志们，接下来我们进入第11个环节，打包应用不激动吗？同志们，你写完的这破玩意儿哎，不能这么说，哈哈，我们写完的这么一个高端的东西，接下来要打包成安装包啦，要安装在电脑上啦。
所以那接下来我们就进行打包应用，同学说一下啊，我把各种资料都查了electron的打包。有四种工具都能打包在我的笔记里边，给大家推荐的是。很繁琐的一个electron builder，繁琐归繁琐，但我告诉你，各位繁琐归繁琐，它能进行很多自定义的东西。而且打包完的体积相对来说会小一点，一会儿我们就所有直播间两个平台的同学，我们一起来见证一下这事儿，就是我写了这么简单的一个小东西。它打包完的大小能有多大？
好了，直接说啊，各位想打包，那么就推荐你用。这个electron builder。所以直接对它进行一个安装。呃，走你。我这个不行了，不能手贱了，我不能开那个代理了，开完那个代理之后吧，大家卡，你看我这不开代理也挺快哈，好完事儿。
接下来你要做的就是打开这个文件，进行各种各样的配置，那么时间关系哈，这些东西我就不再一点儿一点儿的去带着大家去官网找了。说老师那你咋办？你就直接拿过来就得了，拿谁呀？我告诉你。build这个拿过来。加一个命令。好，删掉。整个build这个配置，整个这个大配置拿过来。放在这。
完事注意json文件是不支持注释的。把这些东西删干净，我边删边跟大家说APP ID是你的应用唯一标识符。这个win代表WINDOWS打包的不是别的平台的，是WINDOWS的icon，是代表应用的图标，但是遗憾的是我这里边是没有图标的来。来以最快的速度找到我的授课素材。找到哼，不小不小心让你看到了哈，找到这个回来啊，放在这那那个小姐姐是我的一个素材啊素材。好来，这会删掉呃，说一下这是啥意思？
这个打包生成的，其实说白了就是我们那个EXE文件。大家知道吗？那个微软还有一种安装格式叫msi。啊msi还有这种安装格式啊，我们用的是这个ese，这个64就是代表64位的安装包。好呃，那这个是啥意思？这个刚才说了嘛ese嘛，这FALSE是啥意思？就是不是一键安装同学，我也特别讨厌那种一键安装的软件。都没问我夸，就安装完了，
特别讨厌，所以说这会儿调成这啥意思？就是每个机器安装一次，而不是为每个用户都安装，这一般都是开启的。还有这个就是允许用户在安装过程当中去选择安装目录，这些都建议你打开，如果这些操作你都做完了，接下来去吧，愉快的执行npm around build。这个我跟你说就看什么啊，这时间一看你的网络是否通畅啊，就是你访问外网的能力是否通畅？二看什么？看你电脑的配置，
各位你可以看一下，就我这电脑哈，就算配置再强，俩直播开着录屏，开着这边再打着包，这也干到81度了。是吧，这这都已经算我这电脑，我感觉这配置也算可以了是吧？这这这配置也挺也挺强的了是吧？是吧，但是它这个还得需要时间，你看一夸它，它就果然就快是吧？打包完毕了啊，
注意整个打包过程当中啊，出现一些警告，没得所谓别出现红色的错误就行哈。好了，说老师那我那安装包在哪呢？在这呢来diss它资源管理器里边打开好，各位说一下这文件夹你不用管啊。这文件夹是一个中间的产物，它是一个中间的产物，这个文件夹最终其实形成了蓝色的安装包，哎呀呀呀，在这呢。形成了蓝色的安装包来，这温度给它去掉是吧？哎，
这是中间产物最终生成的，是蓝色的安装包。安装包多大呀？右键看一下。74M也不少说，老师这74M里边都包含啥呢？它安装完了之后包含着一个c包含着node的环境来，我们迅速点击进行安装。这时候你肯定得点是对吧？好换个位置吧，别再往这个六六六这里边安了，我换一个位置，比如说安装在我D盘的。地盘在哪呢？那就七七七得了是吧？
嗯，七七七好，接下来点击安装，那这速度肯定是很快的。主要是你没写啥东西啊，你没写啥东西就是很简单嘛，好了，不运行啊，点击完成，我们先看一下。D盘里有没有啊？七七七有哎，同学，我就好奇一下，这玩意安装完多大看一下吧。
257M同学，我问一下我写啥了吗？我没写啥。就没有任何复杂的功能，就257M，所以说这就意味着啥呢？它这东西打包的体积还是偏大的，对吧？所以说electron呢？它就有固有这个问题。是吧啊，确实是，但是我还是想跟你说很多知名的软件儿也都是拿它写的，现在你不觉得咱这硬盘空间几t几t的，这也无。
无无所谓是吧，没得所谓好，那主要是能不能运行呢？看这儿来双击打开你就发现了，刚才咱写的那些东西呗啊，你比如说写个什么七八九。啊，写入D盘，然后再读取七八九就出来了OK完事那这个时候有一些小伙伴可能就说是吧哎，这之前我看网上的评论说哎，我你说我能不能写这么一应用呢？就是诱导它安装，然后这块儿呢，给它写点诱惑性的文字，我就便利它盘盘盘，
我再写一递归，把它文件都删了。理论上是可行的，但是你是不是不应该那么坏呀？各位是吧？哎OK，说老师这为啥叫index说一下啊，如果你要把这个页面的这个呀。给它改成不叫index，叫成这个你喜欢的名字，它就可以了，完事啊，那所以说呢，最后笔记里边还有这么一个东西，大家可以看一下，
我说一下它是干嘛的啊，我今天给大家的分享啊。我是不是写的纯at mlcs s，还有gs呀，但实际上我想跟大家说的是，实际上我们开发很有可能我们写的是view。谁这年代了还写这些纯的东西啊，很有可能我们写的就是这个view哎，所以说这个electron杠vit它。它就是官方出的这么一个东西，wait官方出的，其实你可以查一下。electron.wait，看。
wit团队专门为electron开发的一套壳子，让你用熟悉的view或者是react也能构建出来一个electron应用，这多像啊，组件化编程嘛。对吧，那我今天为什么选择写这些最原始的这些玩意儿呢？是想降低大家的压力，所以说同志们，你觉不觉得以后就在这里边儿天马行空的发挥你的页面技能？那么，在这个里面主进程里边，你可以写很多很多底层的API操作文件呐，转码啊等等，那些都可以，那我问你这个文件如果大了，
我可不可以拆成多个模块啊？也是可以的诶okay好。